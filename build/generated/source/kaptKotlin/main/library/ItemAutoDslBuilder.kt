// Code generated by AutoDsl. Do not edit.
package library

import com.autodsl.annotation.AutoDslMarker
import java.util.ArrayList
import kotlin.String
import kotlin.Unit
import kotlin.collections.List
import kotlin.properties.Delegates

fun item(block: ItemAutoDslBuilder.() -> Unit): Item = ItemAutoDslBuilder().apply(block).build()

@AutoDslMarker
class ItemAutoDslBuilder() {
    var sku: String by Delegates.notNull()

    var discounts: List<Discount> by Delegates.notNull()

    fun withSku(sku: String): ItemAutoDslBuilder = this.apply { this.sku = sku}

    fun discounts(block: DiscountsAutoDslCollection.() -> Unit): ItemAutoDslBuilder = this.apply { this.discounts = DiscountsAutoDslCollection().apply { block() }._discountsAutoDslCollection }

    fun withDiscounts(discounts: List<Discount>): ItemAutoDslBuilder = this.apply { this.discounts = discounts}

    fun build(): Item = Item(sku, discounts)

    @AutoDslMarker
    class DiscountsAutoDslCollection internal constructor() {
        internal val _discountsAutoDslCollection: ArrayList<Discount> = ArrayList()

        operator fun Discount.unaryPlus() {
            _discountsAutoDslCollection.add(this)
        }
    }
}
